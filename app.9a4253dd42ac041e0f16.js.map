{"version":3,"file":"app.9a4253dd42ac041e0f16.js","mappings":"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","sources":["webpack:///./src/js/Api.js","webpack:///./src/js/Views/SummaryView.js","webpack:///./src/js/Views/FormView.js","webpack:///./src/js/Views/ListView.js","webpack:///./src/js/app.js"],"sourcesContent":["class Car {\n  id;\n  brand;\n  model;\n  year;\n  enginePower;\n  mileage;\n  price;\n  img;\n\n  static indexInc = 1;\n\n  constructor(\n    brand,\n    model,\n    year,\n    enginePower,\n    mileage,\n    price,\n    img = \"https://images.pexels.com/photos/2036544/pexels-photo-2036544.jpeg?cs=srgb&dl=pexels-prime-cinematics-2036544.jpg&fm=jpg&w=640&h=360\"\n  ) {\n    this.id = Car.indexInc++;\n    this.brand = brand;\n    this.model = model;\n    this.year = year;\n    this.enginePower = enginePower;\n    this.mileage = mileage;\n    this.price = price;\n    this.img = img;\n  }\n\n  get nameStr() {\n    return `${this.brand} ${this.model}`;\n  }\n\n  get mileageStr() {\n    return `${this.mileage} km`;\n  }\n\n  get enginePowerStr() {\n    return `${this.enginePower} KM`;\n  }\n\n  get priceStr() {\n    return `${this.price} zł`;\n  }\n}\n\nclass Accessory {\n  id;\n  name;\n  price;\n\n  static indexInc = 1;\n\n  constructor(name, price) {\n    this.id = Accessory.indexInc++;\n    this.name = name;\n    this.price = price;\n  }\n\n  get priceStr() {\n    return `${this.price} zł`;\n  }\n\n  get nameStr() {\n    return `${this.name} - ${this.priceStr}`;\n  }\n}\n\nconst cars = [\n  new Car(\"Skoda\", \"Citigo\", 2018, 11, 20000, 10000),\n  new Car(\"Skoda\", \"Fabia\", 2018, 22, 40000, 20000),\n  new Car(\"Skoda\", \"Octavia\", 2020, 33, 60000, 30000),\n  new Car(\"Toyota\", \"Aygo\", 2014, 44, 20000, 40000),\n  new Car(\"Toyota\", \"Yaris\", 2015, 55, 40000, 50000),\n  new Car(\"Toyota\", \"Rav 4\", 2016, 66, 60000, 60000),\n];\n\nconst brandFilterOptions = [\n  \"Wszystkie\",\n  ...new Set(cars.map((car) => car.brand)),\n];\n\nconst accessories = [\n  new Accessory(\"Opony zimowe\", 2000),\n  new Accessory(\"Pakiet przeglądów\", 3000),\n  new Accessory(\"Dodatkowy rok gwarancji\", 5000),\n];\n\nexport function getCars() {\n  return cars;\n}\n\nexport function getCarById(carId) {\n  carId = Number(carId);\n\n  return cars.find((car) => car.id === carId);\n}\n\nexport function getCarsWhereBrandId(brandId) {\n  brandId = Number(brandId);\n\n  if (brandId === 0) {\n    return getCars();\n  }\n\n  const brand = brandFilterOptions[brandId];\n  return cars.filter((car) => car.brand === brand);\n}\n\nexport function getBrandFilterOptions() {\n  return brandFilterOptions;\n}\n\nexport function getAccessories() {\n  return accessories;\n}\n\nexport function getAccessoriesWhereIds(accessoriesIds) {\n  accessoriesIds = accessoriesIds.map((accessoryId) => Number(accessoryId));\n\n  return accessories.filter((accessory) =>\n    accessoriesIds.includes(accessory.id)\n  );\n}\n","import * as Api from \"../Api.js\";\n\nimport { $listView, showListViewEvent } from \"./ListView.js\";\n\nexport const $summaryView = document.querySelector(\"#summary-view\");\n\nexport const showSummaryViewEvent = new Event(\"show-summary-view\");\n\nexport function showSummaryView() {\n  const $quitSummaryViewBtn = document.querySelector(\"#quit-summary-view\");\n\n  const $order = document.querySelector(\"#order\");\n\n  function handleQuitSummaryViewBtnClick() {\n    hideView();\n\n    $listView.dispatchEvent(showListViewEvent);\n  }\n\n  function setOrder() {\n    $order.replaceChildren();\n\n    const formData = JSON.parse(sessionStorage.getItem(\"form-data\"));\n    const car = Api.getCarById(formData[\"car-id\"]);\n\n    const $carImg = document.createElement(\"img\");\n    $carImg.setAttribute(\"src\", car.img);\n    $carImg.setAttribute(\"alt\", `Zdjęcie ${car.nameStr}`);\n    $order.appendChild($carImg);\n\n    const $orderDetails = document.createElement(\"dl\");\n    $orderDetails.innerHTML = `\n        <dt>Imię i nazwisko: </dt>\n        <dd>${formData[\"full-name\"]}</dd>\n        <dt>Miejsce odbioru: </dt>\n        <dd>${formData[\"pick-up-place\"]}</dd>\n        <dt>Data odbioru: </dt>\n        <dd>${formData[\"pick-up-date\"]}</dd>\n        <dt>Forma finansowania: </dt>\n        <dd>${formData[\"payment\"] === \"lease\" ? \"Leasing\" : \"Gotówka\"}</dd>\n        <dt>Auto: </dt>\n        <dd>${car.nameStr} - ${car.priceStr}</dd>\n      `;\n\n    let accessories = [];\n    if (formData[\"accessories\"].length !== 0) {\n      const $accessoriesDt = document.createElement(\"dt\");\n      $accessoriesDt.innerText = \"Akcesoria: \";\n      $orderDetails.appendChild($accessoriesDt);\n\n      accessories = Api.getAccessoriesWhereIds(formData[\"accessories\"]);\n      accessories.forEach((accessory) => {\n        const $accessoryDd = document.createElement(\"dd\");\n\n        $accessoryDd.innerText = accessory.nameStr;\n\n        $orderDetails.appendChild($accessoryDd);\n      });\n    }\n\n    const $totalPriceDt = document.createElement(\"dt\");\n    $totalPriceDt.innerText = \"Razem: \";\n    $orderDetails.appendChild($totalPriceDt);\n\n    const $totalPriceDd = document.createElement(\"dd\");\n    $totalPriceDd.innerText = [car, ...accessories]\n      .map((item) => item.price)\n      .reduce((totalPrice, itemPrice) => totalPrice + itemPrice);\n    $totalPriceDd.innerText += \" zł\";\n    $orderDetails.appendChild($totalPriceDd);\n\n    $order.appendChild($orderDetails);\n  }\n\n  function setEvents() {\n    $quitSummaryViewBtn.addEventListener(\n      \"click\",\n      handleQuitSummaryViewBtnClick\n    );\n  }\n\n  function removeEvents() {\n    $quitSummaryViewBtn.removeEventListener(\n      \"click\",\n      handleQuitSummaryViewBtnClick\n    );\n  }\n\n  function removeSessionData() {\n    console.log(\"remove session\");\n\n    sessionStorage.removeItem(\"selected-car\");\n    sessionStorage.removeItem(\"form-data\");\n  }\n\n  function loadView() {\n    setEvents();\n\n    setOrder();\n\n    setTimeout(removeSessionData, 300);\n\n    $summaryView.classList.remove(\"hidden\");\n  }\n\n  function hideView() {\n    $summaryView.classList.add(\"hidden\");\n\n    removeEvents();\n  }\n\n  loadView();\n}\n","import * as Api from \"../Api.js\";\n\nimport { $listView, showListViewEvent } from \"./ListView.js\";\nimport { $summaryView, showSummaryViewEvent } from \"./SummaryView.js\";\n\nexport const $formView = document.querySelector(\"#form-view\");\n\nexport const showFormViewEvent = new Event(\"show-form-view\");\n\nexport function showFormView() {\n  const $quitFormViewBtn = document.querySelector(\"#quit-form-view\");\n\n  const $form = document.querySelector(\"#form\");\n  const $accessories = document.querySelector(\"#accessories\");\n  const $payment = document.querySelector(\"#payment\");\n  const $carInfo = document.querySelector(\"#car-info\");\n\n  const $fullName = document.querySelector(\"#full-name\");\n  const $pickUpPlace = document.querySelector(\"#pick-up-place\");\n  const $pickUpDate = document.querySelector(\"#pick-up-date\");\n\n  function fillAccessories() {\n    $accessories.replaceChildren();\n\n    Api.getAccessories().forEach((accessory) => {\n      const $accessoryElement = document.createElement(\"label\");\n\n      $accessoryElement.innerHTML = `\n          <input type=\"checkbox\" name=\"accessories\" value=\"${accessory.id}\" data-price=\"${accessory.price}\" />\n          <span>${accessory.nameStr}</span>\n        `;\n\n      $accessories.appendChild($accessoryElement);\n    });\n  }\n\n  function initPickUpDate() {\n    const date = new Date();\n\n    date.setDate(date.getDate() + 1);\n    $pickUpDate.setAttribute(\"min\", date.toISOString().split(\"T\")[0]);\n\n    date.setDate(date.getDate() + 14);\n    $pickUpDate.setAttribute(\"max\", date.toISOString().split(\"T\")[0]);\n  }\n\n  function setCar() {\n    const selectedCarId = sessionStorage.getItem(\"selected-car\");\n    const car = Api.getCarById(selectedCarId);\n\n    $carInfo.innerText = `${car.nameStr} - ${car.priceStr}`;\n    $carInfo.dataset.price = car.price;\n\n    const $carId = document.querySelector(\"#car-id\");\n    $carId.value = car.id;\n  }\n\n  function calculateTotalPrice() {\n    const $selectedAccessories = [\n      ...document.querySelectorAll('input[name=\"accessories\"]'),\n    ].filter((accessory) => accessory.checked);\n\n    const totalPrice = [$carInfo, ...$selectedAccessories]\n      .map(($element) => Number($element.dataset.price))\n      .reduce((totalPrice, itemPrice) => totalPrice + itemPrice);\n\n    const $totalPrice = document.querySelector(\"#total-price\");\n    $totalPrice.innerText = `${totalPrice} zł`;\n  }\n\n  function handleQuitFormViewBtnClick() {\n    hideView();\n\n    sessionStorage.removeItem(\"form-data\");\n\n    $listView.dispatchEvent(showListViewEvent);\n  }\n\n  function handlePaymentChange(event) {\n    if (event.target.nodeName === \"INPUT\") {\n      saveSession();\n    }\n  }\n\n  function handleAccessoriesChange(event) {\n    if (event.target.nodeName === \"INPUT\") {\n      calculateTotalPrice();\n\n      saveSession();\n    }\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n\n    $formView.classList.add(\"hidden\");\n\n    removeEvents();\n\n    $summaryView.dispatchEvent(showSummaryViewEvent);\n  }\n\n  function setEvents() {\n    $quitFormViewBtn.addEventListener(\"click\", handleQuitFormViewBtnClick);\n\n    $fullName.addEventListener(\"keyup\", saveSession);\n    $pickUpPlace.addEventListener(\"keyup\", saveSession);\n\n    $pickUpDate.addEventListener(\"change\", saveSession);\n\n    $payment.addEventListener(\"change\", handlePaymentChange);\n\n    $accessories.addEventListener(\"change\", handleAccessoriesChange);\n\n    $form.addEventListener(\"submit\", handleFormSubmit);\n  }\n\n  function removeEvents() {\n    $quitFormViewBtn.removeEventListener(\"click\", handleQuitFormViewBtnClick);\n\n    $fullName.removeEventListener(\"keyup\", saveSession);\n    $pickUpPlace.removeEventListener(\"keyup\", saveSession);\n\n    $pickUpDate.removeEventListener(\"change\", saveSession);\n\n    $payment.removeEventListener(\"change\", handlePaymentChange);\n\n    $accessories.removeEventListener(\"change\", handleAccessoriesChange);\n\n    $form.removeEventListener(\"click\", handleFormSubmit);\n  }\n\n  function saveSession() {\n    console.log(\"save\");\n    const formData = new FormData($form);\n    const formDataObj = Object.fromEntries(formData.entries());\n\n    formDataObj.accessories = formData.getAll(\"accessories\");\n\n    sessionStorage.setItem(\"form-data\", JSON.stringify(formDataObj));\n  }\n\n  function hasPreviousSession() {\n    return Boolean(sessionStorage.getItem(\"form-data\"));\n  }\n\n  function restoreSession() {\n    const formData = JSON.parse(sessionStorage.getItem(\"form-data\"));\n    const { payment, accessories, ...standardFormData } = formData;\n\n    if (payment) {\n      const $selectedPaymentRadio = document.querySelector(\n        `#payment input[value=\"${payment}\"]`\n      );\n      $selectedPaymentRadio.checked = true;\n    }\n\n    if (accessories) {\n      accessories.forEach((accessory) => {\n        const $selectedAccessory = document.querySelector(\n          `#accessories input[value=\"${accessory}\"]`\n        );\n\n        $selectedAccessory.checked = true;\n      });\n    }\n\n    Object.entries(standardFormData).forEach((entry) => {\n      console.log(entry);\n      const input = document.querySelector(`#${entry[0]}`);\n      input.value = entry[1];\n    });\n  }\n\n  function loadView() {\n    fillAccessories();\n\n    initPickUpDate();\n\n    setEvents();\n\n    setCar();\n\n    if (hasPreviousSession()) {\n      restoreSession();\n    }\n\n    calculateTotalPrice();\n\n    $formView.classList.remove(\"hidden\");\n  }\n\n  function hideView() {\n    $formView.classList.add(\"hidden\");\n\n    removeEvents();\n\n    $form.reset();\n\n    sessionStorage.removeItem(\"selected-car\");\n  }\n\n  loadView();\n}\n","import * as Api from \"../Api.js\";\n\nimport { $formView, showFormViewEvent } from \"./FormView.js\";\n\nexport const $listView = document.querySelector(\"#list-view\");\n\nexport const showListViewEvent = new Event(\"show-list-view\");\n\nexport function showListView() {\n  const $brandFilter = document.querySelector(\"#brand-filter\");\n  const $carList = document.querySelector(\"#car-list\");\n\n  function fillBrandFilter() {\n    $brandFilter.replaceChildren();\n\n    Api.getBrandFilterOptions().forEach((option) =>\n      $brandFilter.add(new Option(option, option))\n    );\n\n    $brandFilter.options[0].defaultSelected = true;\n  }\n\n  function fillCarList(cars) {\n    $carList.replaceChildren();\n\n    cars.forEach((car) => {\n      const $carListItem = document.createElement(\"li\");\n\n      $carListItem.dataset.carId = car.id;\n\n      $carListItem.innerHTML = `\n          <img src=\"${car.img}\" alt=\"Zdjęcie ${car.nameStr}.\" />\n          <h2>${car.nameStr}</h2>\n          <dl>\n            <dt>Rocznik:</dt>\n            <dd>${car.year}</dd>\n            <dt>Moc:</dt>\n            <dd>${car.enginePowerStr}</dd>\n            <dt>Przebieg:</dt>\n            <dd>${car.mileageStr}</dd>\n            <dt>Cena:</dt>\n            <dd>${car.priceStr}</dd>\n          </dl>\n        `;\n\n      $carList.appendChild($carListItem);\n    });\n  }\n\n  function handleBrandFilterChange(event) {\n    const selectedIndex = event.target.selectedIndex;\n\n    const cars = Api.getCarsWhereBrandId(selectedIndex);\n\n    fillCarList(cars);\n\n    sessionStorage.setItem(\"selected-brand-option\", selectedIndex);\n  }\n\n  function handleCarListClick(event) {\n    const $targetLi = event.target.closest(\"li\");\n\n    if ($targetLi) {\n      hideView();\n\n      sessionStorage.setItem(\"selected-car\", $targetLi.dataset.carId);\n\n      $formView.dispatchEvent(showFormViewEvent);\n    }\n  }\n\n  function setEvents() {\n    $brandFilter.addEventListener(\"change\", handleBrandFilterChange);\n    $carList.addEventListener(\"click\", handleCarListClick);\n  }\n\n  function removeEvents() {\n    $brandFilter.removeEventListener(\"change\", handleBrandFilterChange);\n    $carList.removeEventListener(\"click\", handleCarListClick);\n  }\n\n  function hasPreviousSession() {\n    return Boolean(sessionStorage.getItem(\"selected-brand-option\"));\n  }\n\n  function restoreSession() {\n    const selectedBrandOption = sessionStorage.getItem(\"selected-brand-option\");\n\n    $brandFilter.selectedIndex = selectedBrandOption;\n  }\n\n  function loadView() {\n    fillBrandFilter();\n\n    setEvents();\n\n    if (hasPreviousSession()) {\n      restoreSession();\n    }\n\n    $brandFilter.dispatchEvent(new Event(\"change\"));\n\n    $listView.classList.remove(\"hidden\");\n  }\n\n  function hideView() {\n    $listView.classList.add(\"hidden\");\n\n    removeEvents();\n  }\n\n  loadView();\n}\n","import \"../scss/app.scss\";\n\nimport {\n  $listView,\n  showListViewEvent,\n  showListView,\n} from \"./Views/ListView.js\";\nimport {\n  $formView,\n  showFormViewEvent,\n  showFormView,\n} from \"./Views/FormView.js\";\nimport {\n  $summaryView,\n  showSummaryViewEvent,\n  showSummaryView,\n} from \"./Views/SummaryView.js\";\n\nfunction loadApp() {\n  $listView.addEventListener(showListViewEvent.type, showListView);\n  $formView.addEventListener(showFormViewEvent.type, showFormView);\n  $summaryView.addEventListener(showSummaryViewEvent.type, showSummaryView);\n\n  if (sessionStorage.getItem(\"selected-car\")) {\n    $formView.dispatchEvent(showFormViewEvent);\n\n    return;\n  }\n\n  $listView.dispatchEvent(showListViewEvent);\n}\n\nloadApp();\n"],"names":["Car","constructor","brand","model","year","enginePower","mileage","price","img","arguments","length","undefined","_defineProperty","this","id","indexInc","nameStr","mileageStr","enginePowerStr","priceStr","Accessory","name","cars","brandFilterOptions","Set","map","car","accessories","getCarById","carId","Number","find","getAccessoriesWhereIds","accessoriesIds","accessoryId","filter","accessory","includes","$summaryView","document","querySelector","showSummaryViewEvent","Event","$formView","showFormViewEvent","$listView","showListViewEvent","addEventListener","type","$brandFilter","$carList","handleBrandFilterChange","event","selectedIndex","target","replaceChildren","forEach","$carListItem","createElement","dataset","innerHTML","appendChild","fillCarList","brandId","Api","sessionStorage","setItem","option","add","Option","options","defaultSelected","handleCarListClick","$targetLi","closest","classList","removeEventListener","dispatchEvent","Boolean","getItem","selectedBrandOption","restoreSession","remove","$quitFormViewBtn","$form","$accessories","$payment","$carInfo","$fullName","$pickUpPlace","$pickUpDate","calculateTotalPrice","$selectedAccessories","querySelectorAll","checked","totalPrice","$element","reduce","itemPrice","innerText","handleQuitFormViewBtnClick","removeEvents","reset","removeItem","handlePaymentChange","nodeName","saveSession","handleAccessoriesChange","handleFormSubmit","preventDefault","console","log","formData","FormData","formDataObj","Object","fromEntries","entries","getAll","JSON","stringify","$accessoryElement","date","Date","setDate","getDate","setAttribute","toISOString","split","initPickUpDate","value","setCar","parse","payment","standardFormData","entry","$quitSummaryViewBtn","$order","handleQuitSummaryViewBtnClick","$carImg","$orderDetails","$accessoriesDt","$accessoryDd","$totalPriceDt","$totalPriceDd","item","setOrder","setTimeout"],"sourceRoot":""}